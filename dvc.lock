schema: '2.0'
stages:
  data_ingestion:
    cmd: python src/cnnClassifier/pipeline/stage_01_data_ingestion_pipeline.py
    deps:
    - path: config/config.yaml
      hash: md5
      md5: e84c64e070e34594afa789daca5702fe
      size: 535
    - path: src/cnnClassifier/pipeline/stage_01_data_ingestion_pipeline.py
      hash: md5
      md5: 90c7abf8489492aa9023e82caffa6200
      size: 696
    params:
      params.yaml:
        TEST_RATIO: 0.2
    outs:
    - path: artifacts/data_ingestion
      hash: md5
      md5: 948c09a912aa17ba5f4f2f1073b9ea53.dir
      size: 267767953
      nfiles: 5625
  training:
    cmd:
    - python src/cnnClassifier/pipeline/stage_02_train_pipeline.py
    deps:
    - path: artifacts/data_ingestion/test
      hash: md5
      md5: 5bac76eb4f5dd17bbdfbd735b6653f90.dir
      size: 20864292
      nfiles: 570
    - path: artifacts/data_ingestion/train
      hash: md5
      md5: 0ce2cee597a1e87fb0eedf5c6c135314.dir
      size: 215911065
      nfiles: 4500
    - path: config/config.yaml
      hash: md5
      md5: e84c64e070e34594afa789daca5702fe
      size: 535
    - path: src/cnnClassifier/pipeline/stage_02_train_pipeline.py
      hash: md5
      md5: 85a3d3b6ba628777b2e430d2023888a2
      size: 989
    params:
      params.yaml:
        BATCH_SIZE: 8
        CLASSES: 15
        CLASS_MODE: categorical
        COLOR_MODE: rgb
        EPOCHS: 1
        FILL_ZEROS: false
        HORIZONTAL_FLIP: false
        H_SHIFT: 0
        IMAGE_SIZE:
        - 224
        - 224
        - 3
        INCLUDE_TOP: false
        LEARNING_RATE: 0.001
        OPTIMIZER: adam
        ROTATION_RANGE: 0
        SHEAR_RANGE: 0
        TEST_RATIO: 0.2
        WEIGHTS: imagenet
        W_SHIFT: 0
        ZOOM_RANGE: 0
    outs:
    - path: artifacts/training
      hash: md5
      md5: 9951ec6f3ca0a5294a9c7aed14eb1ff8.dir
      size: 205231819
      nfiles: 7
  evaluation:
    cmd: python src/cnnClassifier/pipeline/stage_03_evaluation_pipeline.py
    deps:
    - path: artifacts/training/model.h5
      hash: md5
      md5: aec8015121752c255b9521e26cd4d2ec
      size: 100947592
    - path: config/config.yaml
      hash: md5
      md5: e84c64e070e34594afa789daca5702fe
      size: 535
    - path: src/cnnClassifier/pipeline/stage_03_evaluation_pipeline.py
      hash: md5
      md5: 93c50f016524482b898855ee8391673b
      size: 646
    params:
      params.yaml:
        CLASS_MODE: categorical
        COLOR_MODE: rgb
        IMAGE_SIZE:
        - 224
        - 224
        - 3
    outs:
    - path: scores.json
      hash: md5
      md5: 27576dccc93f4c1d63a72af13a249fb8
      size: 70
